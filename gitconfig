[user]
name = Jamie Eisenhart
email = jamie@eisenhart.org
#signingkey = B5D686676A41C6F4776ACF0A8C189323F4AEE25F
signingkey = ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIA34XBG5U4Y/BRJdfYTmRCuyWLNqnfp/JlEf0tVQOOY+

# https://git-scm.com/docs/git-config#Documentation/git-config.txt-alias
# https://git-scm.com/book/en/v2/Git-Basics-Git-Aliases
[alias]
aa = add --all
aaa = !git add --all && git amend
at = attach
attach = !git switch $(git branch -a --contains HEAD | ack -v 'HEAD|remotes/' | head -n 1)
br = branch
ca = commit -a
cam = commit -am
cm = commit
co = checkout
cp = cherry-pick
de = detach
detach = sw -d HEAD
graph = log --decorate --graph --oneline --all
gr = graph
myadds = log --name-status --diff-filter=A --author=jamie
new = !git sw -d $(git config branchless.core.mainBranch)
newest = !git next -n 1> /dev/null && git sw -d HEAD
n = newest
nuke = !git reset HEAD --hard && git clean -fd
osl = graph
pf = push --force-with-lease
rem = !git add --all && git record -m
sf = submit --forge github 'line()'
sfc = sf -c
sp = sync -p 'nonrelease()'
st = status
swi = sw -i

[init]
defaultBranch = main

[core]
autocrlf = input

[commit]
gpgsign = true
template = ~/dotfiles/.gitmessage.txt

[diff]
colorMoved = zebra

[fetch]
prune = true

[filter "lfs"]
process = git-lfs filter-process
required = true
clean = git-lfs clean -- %f
smudge = git-lfs smudge -- %f

[gpg]
format = ssh

[pull]
rebase = true

[push]
default = simple

[branchless "hint"]
smartlogFixAbandoned = false

[branchless "revsets.alias"]
line = stack() & ancestors(HEAD)
nonrelease = draft() - ancestors(branches(release))

[includeIf "gitdir:/Users/"]
path = ~/.gitconfig-macos

[includeIf "gitdir:C:/Users/"]
path = ~/.gitconfig-windows

[includeIf "gitdir:/home/"]
path = ~/.gitconfig-linux

[include]
path = ~/.gitconfig.local
